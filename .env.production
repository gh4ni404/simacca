#--------------------------------------------------------------------
# PRODUCTION ENVIRONMENT CONFIGURATION
# Domain: simacca.smkn8bone.sch.id
#--------------------------------------------------------------------
# IMPORTANT: Copy this file to .env and update the values
# DO NOT commit .env to git!
#--------------------------------------------------------------------

#--------------------------------------------------------------------
# ENVIRONMENT - MUST BE PRODUCTION
#--------------------------------------------------------------------
CI_ENVIRONMENT = production

#--------------------------------------------------------------------
# APP CONFIGURATION
#--------------------------------------------------------------------
# CRITICAL: Update baseURL to your production domain
app.baseURL = 'https://simacca.smkn8bone.sch.id/'

# Force HTTPS for all requests (RECOMMENDED)
app.forceGlobalSecureRequests = true

# Content Security Policy (enable after testing)
app.CSPEnabled = false

#--------------------------------------------------------------------
# DATABASE CONFIGURATION
#--------------------------------------------------------------------
# PRODUCTION DATABASE - SMKN 8 BONE
database.default.hostname = localhost
database.default.database = smknbone_simacca_database
database.default.username = smknbone_simacca_user
database.default.password = gi2Bw~,_bU+8
database.default.DBDriver = MySQLi
database.default.DBPrefix =
database.default.port = 3306

# IMPORTANT: Disable debug in production
database.default.DBDebug = false

# CONNECTION POOL SETTINGS (Prevent ERR_CONNECTION_RESET)
database.default.pConnect = true
database.default.connectTimeout = 10
database.default.compress = false
database.default.strictOn = false

#--------------------------------------------------------------------
# ENCRYPTION KEY
#--------------------------------------------------------------------
# CRITICAL: Generate a new encryption key
# Run: php spark key:generate
# Or generate here: base64_encode(random_bytes(32))
encryption.key = YOUR_ENCRYPTION_KEY_HERE_32_CHARS_MIN

#--------------------------------------------------------------------
# SESSION CONFIGURATION
#--------------------------------------------------------------------
# Session driver
session.driver = 'CodeIgniter\Session\Handlers\FileHandler'

# Session save path (leave commented to use default WRITEPATH . 'session')
# For production with split directory: /home2/smknbone/simaccaProject/writable/session
# session.savePath = null

# Session cookie name
session.cookieName = 'simacca_session'

# Session expiration (8 hours)
session.expiration = 28800

# Cookie domain for production
session.cookieDomain = '.smkn8bone.sch.id'

# Secure cookies (HTTPS only)
session.cookieSecure = true

# HTTP only cookies (prevent XSS)
session.cookieHTTPOnly = true

# SameSite attribute
session.cookieSameSite = 'Lax'

#--------------------------------------------------------------------
# COOKIE CONFIGURATION
#--------------------------------------------------------------------
cookie.domain = '.smkn8bone.sch.id'
cookie.secure = true
cookie.httponly = true
cookie.samesite = 'Lax'

#--------------------------------------------------------------------
# SECURITY CONFIGURATION
#--------------------------------------------------------------------
# CSRF Protection
security.csrfProtection = 'cookie'
security.tokenRandomize = false
security.regenerate = true
security.redirect = true

#--------------------------------------------------------------------
# LOGGING
#--------------------------------------------------------------------
# Log level: 1=Emergency, 2=Alert, 3=Critical, 4=Error, 5=Warning, 6=Notice, 7=Info, 8=Debug
logger.threshold = 4

# Log path (leave commented to use default WRITEPATH . 'logs/')
# DO NOT use PHP constants like WRITEPATH in .env file!
# logger.path = WRITEPATH . 'logs/'

#--------------------------------------------------------------------
# CACHE CONFIGURATION
#--------------------------------------------------------------------
cache.handler = 'file'
cache.backupHandler = 'dummy'
cache.prefix = 'simacca_'
cache.ttl = 300

#--------------------------------------------------------------------
# CORS CONFIGURATION (if using API)
#--------------------------------------------------------------------
# cors.allowedOrigins = ['https://simacca.smkn8bone.sch.id']
# cors.allowedHeaders = ['Content-Type', 'X-Requested-With']
# cors.allowedMethods = ['GET', 'POST', 'PUT', 'DELETE']

#--------------------------------------------------------------------
# MAINTENANCE MODE
#--------------------------------------------------------------------
# Set to true to enable maintenance mode
# app.maintenanceMode = false

#--------------------------------------------------------------------
# NOTES FOR DEPLOYMENT
#--------------------------------------------------------------------
# 1. Copy this file to .env
# 2. Update all CHANGE_THIS_* values
# 3. Generate encryption key: php spark key:generate
# 4. Test database connection
# 5. Verify HTTPS is working
# 6. Setup cron job: 0 2 * * * php spark session:cleanup
# 7. Setup backup schedule
# 8. Monitor logs in writable/logs/
#--------------------------------------------------------------------
